<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador HDM</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            margin-bottom: 5px;
        }

        body {
            max-width: 600px;
            margin: auto;
            background-color: lightskyblue;
        }

        main {
            background-color: #fff;
            display: flex;
            flex-direction: column;
            height: auto;
            width: 100%;
            margin-top: 100px;
            padding: 10px;
            border-radius: 30px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.473);
        }

        .types {
            width: 30%;
            display: flex;
            justify-content: space-between;
        }

        input[type=text] {
            width: calc(100% / 2 - 68px);
            height: 30px;
            border-radius: 20px;
            border: 1px solid black;
            text-align: center;
        }

        #gerador {
            display: flex;
            flex-wrap: wrap;
        }

        #gerador input {
            margin-right: 5px;
        }

        #resultado input {
            width: calc(100% - 130px);
        }

        button {
            cursor: pointer;
            width: 120px;
            height: 30px;
            border-radius: 20px;
            border: none;
            background-color: paleturquoise;
        }

        button:hover:enabled {
            background-color: #2196F3;
        }

        button:disabled {
            cursor: not-allowed;
        }
        input[type=text]:disabled{
            cursor: not-allowed;
            background-color: rgb(228, 226, 226);
        }
    </style>
</head>

<body>
    <main>
        <h1>Gerador HDM</h1>
        <div id="exclusive">
            <h3>Redes: </h3>
            <p><label>Default <input type="radio" name="type" id="default" checked onclick="checkIsOther5G()"></label>
            </p>
            <p><label>Somente 2.4GHz <input type="radio" name="type" id="only2" onclick="checkIsOther5G()"></label>
            </p>
            <p><label>Somente 5.0GHz <input type="radio" name="type" id="only5" onclick="checkIsOther5G()"></label>
            </p>
            <p><label>5.0GHz diferente <input type="radio" name="type" id="other5" onclick="checkIsOther5G()"></label>            
        <div id="opt">
            <h3>Opcoes: </h3>
            <label><p>SSID <input type="checkbox" name="opt-ssid" id="opt-ssid" checked onclick="checkOPT()"></p></label>
            <label><p>Password <input type="checkbox" name="opt-pw" id="opt-pw" checked onclick="checkOPT()"></p></label>
        </div>
        </div>
        <div id="gerador">
            <input type="text" id="ssid" placeholder="SSID">
            <input type="text" id="password" placeholder="Password">
            <button onclick="createJSON()" id="create">Gerar</button>
        </div>
        <div id="resultado">
            <div id="doisQuPontoatro">
                <input type="text" id="result2" readonly="readonly">
                <button onclick="copy('result2')" id="btn-result2" disabled="disabled">Copiar 2.4GHz</button>
            </div>
            <div id="cincoPontoZero">
                <input type="text" id="result5" readonly="readonly">
                <button onclick="copy('result5')" id="btn-result5" disabled="disabled">Copiar 5.0GHz</button>
            </div>
        </div>
    </main>
    <script>
        function createInputSSID5G(parent) {
            const ssid5 = document.createElement('input')
            Object.assign(ssid5, {
                type: 'text',
                id: 'ssid5',
                placeholder: 'SSID 5.0GHz'
            })
            parent.appendChild(ssid5)
        }
        function createInputPassword5G(parent) {
            const pw5 = document.createElement('input')
            Object.assign(pw5, {
                type: 'text',
                id: 'password5',
                placeholder: 'Password 5.0GHz'
            })
            parent.appendChild(pw5)
        }
        function removeInput5G(parent) {
            const ssid5 = document.getElementById('ssid5') || undefined
            const password5 = document.getElementById('password5') || undefined
            if (ssid5 != undefined) {
                parent.removeChild(ssid5)
                parent.removeChild(password5)
            }
        }
        function checkIsOther5G() {
            limparResultado()
            addDisabled()
            const checkBox = document.getElementById('other5')
            const parent = document.getElementById('gerador')

            if (checkBox.checked == true) {
                const check5G = document.getElementById('ssid5') || undefined
                if (!check5G) {
                    createInputSSID5G(parent)
                    createInputPassword5G(parent)
                }
            } else {
                removeInput5G(parent)
            }
        }
        function checkOPT() {
            let isSSSID = document.getElementById('opt-ssid').checked
            let  isPW = document.getElementById('opt-pw').checked
            let inputSSID = document.getElementById('ssid')
            let inputPW = document.getElementById('password')
            if(!isSSSID) {
                inputSSID.value = ""
                inputSSID.setAttribute('disabled', 'disabled')
            } else {
                if(inputSSID.hasAttribute('disabled')) {
                    inputSSID.removeAttribute('disabled')
                }
            }
            if(!isPW) {
                inputPW.value = ""
                inputPW.setAttribute('disabled', 'disabled')
            } else {
                if(inputPW.hasAttribute('disabled')) {
                    inputPW.removeAttribute('disabled')
                }
            }
        }
        function checkSSID(ssid) {
            if (ssid == "") {
                alert("Digite o SSID!!")
                return false
            } else {
                return true
            }
        }
        function checkPW(password) {
            if (password == "" || password.length < 8) {
                alert("Digite uma senha com mais de oito caracteres!!")
                return false
            } else {
                return true
            }
        }
        function createJSON() {

            let isOnly2 = document.getElementById('only2').checked
            let isOnly5 = document.getElementById("only5").checked
            let isOther5 = document.getElementById('other5').checked
            let isSSID = document.getElementById('opt-ssid').checked
            let isPW = document.getElementById('opt-pw').checked
            let ssid = document.getElementById('ssid').value
            let password = document.getElementById('password').value
            
            let chkSSID = undefined
            let chkPW = undefined

            reset5G()
            reset2G()
            limparResultado()

            if(isSSID && isPW) {
                chkSSID = checkSSID(ssid)
                chkPW = checkPW(password)
            } else if(isSSID) {
                chkSSID = checkSSID(ssid)
            } else {
                chkPW = checkPW(password)
            }

            if(chkSSID != false && chkPW != false) {

                const createWifi2 = (ssid1, password1) => JSON.stringify({ index: "1", ssid: ssid1, password: password1 })
                const createWifi5 = (ssid1, password1) => JSON.stringify({ index: "5", ssid: `${ssid1}-5G`, password: password1 })
                const createOnly5 = (ssid1, password1) => JSON.stringify({ index: "5", ssid: ssid1, password: password1 })
                const createSSID2 = (ssid1) => JSON.stringify({ index: "1", ssid: ssid1})
                const createSSID5 = (ssid1) => JSON.stringify({ index: "5", ssid: ssid1})
                const createPW2 = (password1) => JSON.stringify({ index: "1", password: password1 })
                const createPW5 = (password1) => JSON.stringify({ index: "5", password: password1 })
                
                if (isOnly2) {
                    let result
                    if (isSSID && isPW) {
                        result = createWifi2(ssid, password)
                    } else if (isSSID) {
                        result = createSSID2(ssid)
                    } else {
                        result = createPW2(password)
                    }
                    document.getElementById('result2').setAttribute('value', result)
                    document.getElementById('btn-result5').setAttribute('disabled', 'disabled')
                } else if (isOnly5) {
                    let result
                    if (isSSID && isPW) {
                        result = createWifi5(ssid, password)
                    } else if (isSSID) {
                        result = createSSID5(ssid)
                    } else {
                        result = createPW5(password)
                    }
                    document.getElementById('result5').setAttribute('value', result)
                    document.getElementById('btn-result2').setAttribute('disabled', 'disabled')
                } else if (isOther5) {
                    let result2
                    let result5
                    let ssid5 = document.getElementById('ssid5').value
                    let pw5 = document.getElementById('password5').value
                    
                    if(isSSID && isPW) {
                        chkSSID = checkSSID(ssid5)
                        chkPW = checkPW(pw5)
                    } else if(isSSID) {
                        chkSSID = checkSSID(ssid5)
                    } else {
                        chkPW = checkPW(pw5)
                    }       

                    if(chkSSID != false && chkPW != false){
                        
                        if (isSSID && isPW) {
                            result2 = createWifi2(ssid, password)
                            result5 = createOnly5(ssid5, pw5)
                        } else if (isSSID) {
                            result2 = createSSID2(ssid)
                            result5 = createOnly5(ssid5)
                        } else {
                            result2 = createPW2(password)
                            result5 = createPW5(pw5)
                        }   
                    } 
                    document.getElementById('result2').setAttribute('value', result2)
                    document.getElementById('result5').setAttribute('value', result5)
                } else {
                        let result2
                        let result5
                        if (isSSID && isPW) {
                            result2 = createWifi2(ssid, password)
                            result5 = createWifi5(ssid, password)
                        } else if (isSSID) {
                            result2 = createSSID2(ssid)
                            result5 = createSSID5(ssid)
                        } else {
                            result2 = createPW2(password)
                            result5 = createPW5(password)
                        }
                        document.getElementById('result2').setAttribute('value', result2)
                        document.getElementById('result5').setAttribute('value', result5)
                    }
            }
        }
        function addDisabled() {
            const btn2 = document.getElementById("btn-result2")
            const btn5 = document.getElementById("btn-result5")
            btn2.setAttribute("disabled", "disabled")
            btn5.setAttribute("disabled", "disabled")
        }
        function removeDisabled(btn) {
            if(btn.hasAttribute('disabled')) {
                    btn.removeAttribute('disabled')
                }
        }
        function reset2G(){
            const btn2 = document.getElementById('btn-result2')
            btn2.innerHTML = 'Copiar 2.4GHz'
            removeDisabled(btn2)
        }
        function reset5G(){
            const btn5 = document.getElementById('btn-result5')
            btn5.innerHTML = 'Copiar 5.0GHz'
            removeDisabled(btn5)
        }
        function limparDados() {
            let ssid2G = document.getElementById('ssid')
            let password2G = document.getElementById('password')
            ssid2G.value = ''
            password2G.value = ''

            let ssid5G = document.getElementById('ssid5') || undefined
            let password5G = document.getElementById('password5') || undefined
            if(ssid5G != undefined) {
                ssid5G.value = ''
                password5G.value = ''
            }
        }
        function limparResultado() {
            document.getElementById('result2').setAttribute('value', '')
            document.getElementById('result5').setAttribute('value', '')
        }
        function cleanBtnCopy(rede) {
            if (rede == 'result2') {
                document.getElementById('btn-result2').innerHTML = "Copiado!"
                reset5G()
                setTimeout(reset2G, 500)
            } else {
                document.getElementById('btn-result5').innerHTML = "Copiado!"
                setTimeout(reset5G, 500)
            }
        }
        function copy(rede) {
            
            const txt = document.getElementById(rede)
            txt.select()
            document.execCommand("copy")
            cleanBtnCopy(rede)
        }
    </script>
</body>

</html>